(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{5346:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market/shop/[product]",function(){return i(8670)}])},5985:function(e,n,i){"use strict";var t=i(5893),o=i(9704),s=i.n(o),r=i(1163),l=i(7294);n.Z=function(e){var n=e.children,i=(0,r.useRouter)();return(0,l.useEffect)((function(){var e=setTimeout((function(){var e=localStorage.getItem("token");try{s().verify(e,"kupon")}catch(n){i.push("/login")}}),0);return function(){return clearTimeout(e)}}),[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:n})})}},8670:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return S}});var t=i(5893),o=i(7294),s=i(1971),r=i(1163),l=i(4184),a=i.n(l),c=i(5446),d=i(8146),u=i(80),m=i(6792),h=i(1068),p=i(1485),v=i(9602),f=i(6611);const x=(0,v.Z)("h4");x.displayName="DivStyledAsH4";const N=(0,f.Z)("alert-heading",{Component:x}),j=(0,f.Z)("alert-link",{Component:u.Z}),g={variant:"primary",show:!0,transition:h.Z,closeLabel:"Close alert"},k=o.forwardRef(((e,n)=>{const{bsPrefix:i,show:o,closeLabel:s,closeVariant:r,className:l,children:u,variant:v,onClose:f,dismissible:x,transition:N,...j}=(0,c.Ch)(e,{show:"onClose"}),g=(0,m.vE)(i,"alert"),k=(0,d.Z)((e=>{f&&f(!1,e)})),_=!0===N?h.Z:N,w=(0,t.jsxs)("div",{role:"alert",..._?void 0:j,ref:n,className:a()(l,g,v&&`${g}-${v}`,x&&`${g}-dismissible`),children:[x&&(0,t.jsx)(p.Z,{onClick:k,"aria-label":s,variant:r}),u]});return _?(0,t.jsx)(_,{unmountOnExit:!0,...j,ref:void 0,in:o,children:w}):o?w:null}));k.displayName="Alert",k.defaultProps=g;var _=Object.assign(k,{Link:j,Heading:N}),w=i(5985),C=i(5063),b=i.n(C),y=i(7893),E=function(e){var n=e.imageUrl,i=e.onClose;return(0,t.jsx)("div",{className:"modal-overlay",onClick:i,style:{position:"absolute",top:"0px",height:"90%",left:"0px",zIndex:"300",cursor:"pointer"},children:(0,t.jsx)("div",{className:"modal-content",children:(0,t.jsx)("img",{src:n,alt:"Image",className:"modal-image"})})})};function S(){var e=function(e){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((function(){k(!0),console.log("URL copied to clipboard!")})).catch((function(e){console.error("Failed to copy URL to clipboard:",e)})):n(e)},n=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),k(!0)},i=(0,r.useRouter)().query.product,l=(0,o.useState)({}),a=l[0],c=l[1],d=(0,o.useState)(),u=d[0],m=d[1],h=(0,o.useState)(),p=h[0],v=h[1],f=(0,o.useState)(0),x=f[0],N=f[1],j=(0,o.useState)(!1),g=j[0],k=j[1],C=(0,o.useState)(!1),S=C[0],Z=C[1],O=(0,o.useState)(""),T=O[0],I=O[1],R=(0,o.useState)((function(){return localStorage.getItem("token")}))[0];return(0,o.useEffect)((function(){fetch("/sell/".concat(i),{method:"GET",headers:{Authorization:"Bearer ".concat(R)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){c(null===e||void 0===e?void 0:e.msg)})).catch((function(){v(p)}))}),[i]),(0,o.useEffect)((function(){fetch("/user/".concat(null===a||void 0===a?void 0:a.sellerId),{method:"GET",headers:{Authorization:"Bearer ".concat(R)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){m(null===e||void 0===e?void 0:e.msg)})).catch((function(){}))}),[a]),(0,t.jsx)(w.Z,{children:(0,t.jsx)(s.Z,{title:"Cart - Market",children:a?(0,t.jsxs)("div",{className:"container",id:"shop",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"market_prod_head",children:[(0,t.jsx)("h1",{className:"market_prod_name",children:null===a||void 0===a?void 0:a.title}),(0,t.jsxs)("p",{className:"market_prod_price",children:["#",null===a||void 0===a?void 0:a.price]})]}),(0,t.jsxs)("div",{className:"market_prod_img",children:[(0,t.jsx)("span",{className:"market_prod_pics_main",children:"string"===typeof a.files?(0,t.jsx)("img",{className:"d-block",src:JSON.parse(null===a||void 0===a?void 0:a.files)[x],alt:"Image One",style:{width:"100%"},onClick:function(){return e=JSON.parse(null===a||void 0===a?void 0:a.files)[x],I(e),void Z(!0);var e}}):null}),(0,t.jsx)("span",{className:"market_prod_pics_sub",children:"string"===typeof a.files?JSON.parse(null===a||void 0===a?void 0:a.files).map((function(e,n){return(0,t.jsx)("img",{className:"d-block",src:e,alt:"Image One",style:{width:"100%"},onClick:function(){return N(n)}},n)})):null})]}),(0,t.jsxs)("div",{className:"market_prod_description",children:[(0,t.jsx)("h3",{children:"Description"}),(0,t.jsx)("p",{children:null===a||void 0===a?void 0:a.description})]}),(0,t.jsxs)("div",{className:"market_prod_seller_details",children:[(0,t.jsxs)("div",{className:"d1",children:[(0,t.jsxs)("p",{style:{color:"white",background:"#904D00",borderRadius:"50%",padding:"8px"},className:"p1",children:[" ",(0,y.Q)(null===u||void 0===u?void 0:u.firstName,null===u||void 0===u?void 0:u.lastName)]}),(0,t.jsxs)("p",{className:"p2",children:[(0,t.jsxs)("em",{className:"market_prod_sellername",children:[null===u||void 0===u?void 0:u.firstName," ",null===u||void 0===u?void 0:u.lastName]}),(0,t.jsx)("em",{className:"market_prod_sellerphone",children:Number(null===u||void 0===u?void 0:u.telephone)})]}),g?(0,t.jsx)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:"Copied"}):(0,t.jsxs)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:["Copy Contact"," ",(0,t.jsx)("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/copy.png",alt:"copy"})]})]}),(0,t.jsx)("div",{className:"d2",children:(0,t.jsx)(b(),{href:"tel: ".concat(null===u||void 0===u?void 0:u.telephone),children:(0,t.jsx)("p",{children:"Contact Seller"})})})]})]}),S&&(0,t.jsx)(E,{imageUrl:T,onClose:function(){Z(!1)}})]}):(0,t.jsx)(_,{variant:"danger",style:{margin:"200px 100px"},children:"loading..."},"danger")})})}}},function(e){e.O(0,[714,424,531,715,858,231,971,774,888,179],(function(){return n=5346,e(e.s=n);var n}));var n=e.O();_N_E=n}]);