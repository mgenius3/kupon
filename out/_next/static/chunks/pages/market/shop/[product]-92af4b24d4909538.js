(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{5346:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market/shop/[product]",function(){return t(8670)}])},5985:function(e,n,t){"use strict";var o=t(5893),i=t(9704),r=t.n(i),s=t(1163),a=t(7294),l=t(3454);n.Z=function(e){var n=e.children,t=(0,s.useRouter)();return(0,a.useEffect)((function(){var e=setTimeout((function(){var e=localStorage.getItem("token");try{r().verify(e,"kupon")}catch(n){console.log(n),console.log(l.env.NEXT_PUBLIC_TOKEN_KEY),t.push("/login")}}),0);return function(){return clearTimeout(e)}}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{children:n})})}},8670:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var o=t(5893),i=t(7294),r=t(1971),s=t(1163),a=t(4184),l=t.n(a),c=t(5446),d=t(8146),u=t(80),h=t(6792),p=t(1068),m=t(1485),v=t(9602),f=t(6611);const x=(0,v.Z)("h4");x.displayName="DivStyledAsH4";const g=(0,f.Z)("alert-heading",{Component:x}),N=(0,f.Z)("alert-link",{Component:u.Z}),_={variant:"primary",show:!0,transition:p.Z,closeLabel:"Close alert"},j=i.forwardRef(((e,n)=>{const{bsPrefix:t,show:i,closeLabel:r,closeVariant:s,className:a,children:u,variant:v,onClose:f,dismissible:x,transition:g,...N}=(0,c.Ch)(e,{show:"onClose"}),_=(0,h.vE)(t,"alert"),j=(0,d.Z)((e=>{f&&f(!1,e)})),k=!0===g?p.Z:g,b=(0,o.jsxs)("div",{role:"alert",...k?void 0:N,ref:n,className:l()(a,_,v&&`${_}-${v}`,x&&`${_}-dismissible`),children:[x&&(0,o.jsx)(m.Z,{onClick:j,"aria-label":r,variant:s}),u]});return k?(0,o.jsx)(k,{unmountOnExit:!0,...N,ref:void 0,in:i,children:b}):i?b:null}));j.displayName="Alert",j.defaultProps=_;var k=Object.assign(j,{Link:N,Heading:g}),b=t(5985),w=t(5063),y=t.n(w),C=t(7893);function E(){var e=function(e){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((function(){j(!0),console.log("URL copied to clipboard!")})).catch((function(e){console.error("Failed to copy URL to clipboard:",e)})):n(e)},n=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),j(!0)},t=(0,s.useRouter)().query.product,a=(0,i.useState)({}),l=a[0],c=a[1],d=(0,i.useState)(),u=d[0],h=d[1],p=(0,i.useState)(),m=p[0],v=p[1],f=(0,i.useState)(0),x=f[0],g=f[1],N=(0,i.useState)(!1),_=N[0],j=N[1],w=(0,i.useState)((function(){return localStorage.getItem("token")}))[0];return(0,i.useEffect)((function(){fetch("/sell/".concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){c(null===e||void 0===e?void 0:e.msg)})).catch((function(){v(m)}))}),[t]),(0,i.useEffect)((function(){fetch("/user/".concat(null===l||void 0===l?void 0:l.sellerId),{method:"GET",headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){h(null===e||void 0===e?void 0:e.msg)})).catch((function(){}))}),[l]),(0,o.jsx)(b.Z,{children:(0,o.jsx)(r.Z,{title:"Cart - Market",children:l?(0,o.jsx)("div",{className:"container",id:"shop",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"market_prod_head",children:[(0,o.jsx)("h1",{className:"market_prod_name",children:null===l||void 0===l?void 0:l.title}),(0,o.jsxs)("p",{className:"market_prod_price",children:["#",null===l||void 0===l?void 0:l.price]})]}),(0,o.jsxs)("div",{className:"market_prod_img",children:[(0,o.jsx)("span",{className:"market_prod_pics_main",children:"string"===typeof l.files?(0,o.jsx)("img",{className:"d-block",src:"data:image/png;base64,".concat(JSON.parse(null===l||void 0===l?void 0:l.files)[x]),alt:"Image One",style:{width:"100%"}}):null}),(0,o.jsx)("span",{className:"market_prod_pics_sub",children:"string"===typeof l.files?JSON.parse(null===l||void 0===l?void 0:l.files).map((function(e,n){return(0,o.jsx)("img",{className:"d-block",src:"data:image/png;base64,".concat(e),alt:"Image One",style:{width:"100%"},onClick:function(){return g(n)}},n)})):null})]}),(0,o.jsxs)("div",{className:"market_prod_description",children:[(0,o.jsx)("h3",{children:"Description"}),(0,o.jsx)("p",{children:null===l||void 0===l?void 0:l.description})]}),(0,o.jsxs)("div",{className:"market_prod_seller_details",children:[(0,o.jsxs)("div",{className:"d1",children:[(0,o.jsxs)("p",{style:{color:"white",background:"#904D00",borderRadius:"50%",padding:"8px"},className:"p1",children:[" ",(0,C.Q)(null===u||void 0===u?void 0:u.firstName,null===u||void 0===u?void 0:u.lastName)]}),(0,o.jsxs)("p",{className:"p2",children:[(0,o.jsxs)("em",{className:"market_prod_sellername",children:[null===u||void 0===u?void 0:u.firstName," ",null===u||void 0===u?void 0:u.lastName]}),(0,o.jsx)("em",{className:"market_prod_sellerphone",children:Number(null===u||void 0===u?void 0:u.telephone)})]}),_?(0,o.jsx)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:"Copied"}):(0,o.jsxs)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:["Copy Contact"," ",(0,o.jsx)("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/copy.png",alt:"copy"})]})]}),(0,o.jsx)("div",{className:"d2",children:(0,o.jsx)(y(),{href:"tel: ".concat(null===u||void 0===u?void 0:u.telephone),children:(0,o.jsx)("p",{children:"Contact Seller"})})})]})]})}):(0,o.jsx)(k,{variant:"danger",style:{margin:"200px 100px"},children:"loading..."},"danger")})})}}},function(e){e.O(0,[714,424,531,715,858,231,971,774,888,179],(function(){return n=5346,e(e.s=n);var n}));var n=e.O();_N_E=n}]);