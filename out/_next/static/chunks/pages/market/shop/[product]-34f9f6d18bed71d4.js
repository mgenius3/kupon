(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{5346:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market/shop/[product]",function(){return o(8670)}])},5985:function(e,n,o){"use strict";var t=o(5893),i=o(9704),r=o.n(i),s=o(1163),l=o(7294),a=o(3454);n.Z=function(e){var n=e.children,o=(0,s.useRouter)();return(0,l.useEffect)((function(){var e=setTimeout((function(){var e=localStorage.getItem("token");try{r().verify(e,"kupon")}catch(n){console.log(n),console.log(a.env.NEXT_PUBLIC_TOKEN_KEY),o.push("/login")}}),0);return function(){return clearTimeout(e)}}),[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:n})})}},8670:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return E}});var t=o(5893),i=o(7294),r=o(1971),s=o(1163),l=o(4184),a=o.n(l),c=o(5446),d=o(8146),u=o(80),h=o(6792),p=o(1068),m=o(1485),v=o(9602),f=o(6611);const x=(0,v.Z)("h4");x.displayName="DivStyledAsH4";const N=(0,f.Z)("alert-heading",{Component:x}),_=(0,f.Z)("alert-link",{Component:u.Z}),j={variant:"primary",show:!0,transition:p.Z,closeLabel:"Close alert"},g=i.forwardRef(((e,n)=>{const{bsPrefix:o,show:i,closeLabel:r,closeVariant:s,className:l,children:u,variant:v,onClose:f,dismissible:x,transition:N,..._}=(0,c.Ch)(e,{show:"onClose"}),j=(0,h.vE)(o,"alert"),g=(0,d.Z)((e=>{f&&f(!1,e)})),k=!0===N?p.Z:N,w=(0,t.jsxs)("div",{role:"alert",...k?void 0:_,ref:n,className:a()(l,j,v&&`${j}-${v}`,x&&`${j}-dismissible`),children:[x&&(0,t.jsx)(m.Z,{onClick:g,"aria-label":r,variant:s}),u]});return k?(0,t.jsx)(k,{unmountOnExit:!0,..._,ref:void 0,in:i,children:w}):i?w:null}));g.displayName="Alert",g.defaultProps=j;var k=Object.assign(g,{Link:_,Heading:N}),w=o(5985),b=o(5063),y=o.n(b),C=o(7893);function E(){var e=function(e){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((function(){g(!0),console.log("URL copied to clipboard!")})).catch((function(e){console.error("Failed to copy URL to clipboard:",e)})):n(e)},n=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),g(!0)},o=(0,s.useRouter)().query.product,l=(0,i.useState)({}),a=l[0],c=l[1],d=(0,i.useState)(),u=d[0],h=d[1],p=(0,i.useState)(),m=p[0],v=p[1],f=(0,i.useState)(0),x=f[0],N=f[1],_=(0,i.useState)(!1),j=_[0],g=_[1],b=(0,i.useState)((function(){return localStorage.getItem("token")}))[0];return(0,i.useEffect)((function(){fetch("/sell/".concat(o),{method:"GET",headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){c(null===e||void 0===e?void 0:e.msg)})).catch((function(){v(m)}))}),[o]),(0,i.useEffect)((function(){fetch("/user/".concat(null===a||void 0===a?void 0:a.sellerId),{method:"GET",headers:{Authorization:"Bearer ".concat(b)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){h(null===e||void 0===e?void 0:e.msg)})).catch((function(){}))}),[a]),(0,t.jsx)(w.Z,{children:(0,t.jsx)(r.Z,{title:"Cart - Market",children:a?(0,t.jsx)("div",{className:"container",id:"shop",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"market_prod_head",children:[(0,t.jsx)("h1",{className:"market_prod_name",children:null===a||void 0===a?void 0:a.title}),(0,t.jsxs)("p",{className:"market_prod_price",children:["#",null===a||void 0===a?void 0:a.price]})]}),(0,t.jsxs)("div",{className:"market_prod_img",children:[(0,t.jsx)("span",{className:"market_prod_pics_main",children:"string"===typeof a.files?(0,t.jsx)("img",{className:"d-block",src:JSON.parse(null===a||void 0===a?void 0:a.files)[x],alt:"Image One",style:{width:"100%"}}):null}),(0,t.jsx)("span",{className:"market_prod_pics_sub",children:"string"===typeof a.files?JSON.parse(null===a||void 0===a?void 0:a.files).map((function(e,n){return(0,t.jsx)("img",{className:"d-block",src:e,alt:"Image One",style:{width:"100%"},onClick:function(){return N(n)}},n)})):null})]}),(0,t.jsxs)("div",{className:"market_prod_description",children:[(0,t.jsx)("h3",{children:"Description"}),(0,t.jsx)("p",{children:null===a||void 0===a?void 0:a.description})]}),(0,t.jsxs)("div",{className:"market_prod_seller_details",children:[(0,t.jsxs)("div",{className:"d1",children:[(0,t.jsxs)("p",{style:{color:"white",background:"#904D00",borderRadius:"50%",padding:"8px"},className:"p1",children:[" ",(0,C.Q)(null===u||void 0===u?void 0:u.firstName,null===u||void 0===u?void 0:u.lastName)]}),(0,t.jsxs)("p",{className:"p2",children:[(0,t.jsxs)("em",{className:"market_prod_sellername",children:[null===u||void 0===u?void 0:u.firstName," ",null===u||void 0===u?void 0:u.lastName]}),(0,t.jsx)("em",{className:"market_prod_sellerphone",children:Number(null===u||void 0===u?void 0:u.telephone)})]}),j?(0,t.jsx)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:"Copied"}):(0,t.jsxs)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:["Copy Contact"," ",(0,t.jsx)("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/copy.png",alt:"copy"})]})]}),(0,t.jsx)("div",{className:"d2",children:(0,t.jsx)(y(),{href:"tel: ".concat(null===u||void 0===u?void 0:u.telephone),children:(0,t.jsx)("p",{children:"Contact Seller"})})})]})]})}):(0,t.jsx)(k,{variant:"danger",style:{margin:"200px 100px"},children:"loading..."},"danger")})})}}},function(e){e.O(0,[714,424,531,715,858,231,971,774,888,179],(function(){return n=5346,e(e.s=n);var n}));var n=e.O();_N_E=n}]);