(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{3834:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/admin/user",function(){return t(7741)}])},1164:function(e,n,t){"use strict";var s=t(5893),r=t(7294),i=t(7346),o=t(5005),c=t(2920);t(993);n.Z=function(e){var n=e.setConfirmation,t=e.action,l=e.title,d=e.packageId,a=(0,r.useState)(""),u=a[0],h=a[1],x=(0,r.useState)(!1),j=x[0],p=x[1];return(0,s.jsxs)(i.Z.Group,{className:"container p-5",children:[(0,s.jsx)(i.Z.Label,{children:(0,s.jsxs)("span",{style:{fontSize:"15px"},children:["Enter ",(0,s.jsx)("b",{style:{color:"green"},children:"confirm"})," ",l]})}),(0,s.jsx)("div",{className:"d-flex",children:(0,s.jsx)("input",{type:"text",value:u,onChange:function(e){h(e.target.value),p(!1)}})}),(0,s.jsx)("br",{}),(0,s.jsx)(o.Z,{onClick:function(){"confirm"===u?(p(!0),n(!1),t(d)):c.Am.error("wrong input")},children:"Confirm"}),j&&(0,s.jsx)("div",{className:"text-success",children:"Confirmed!"})]})}},6857:function(e,n,t){"use strict";var s=t(7568),r=t(4051),i=t.n(r),o=t(5893),c=t(7294),l=t(1664),d=t.n(l),a=t(1163),u=t(7893),h=t(6245),x=t(5387),j=t(5985),p=t(9008),v=t.n(p),m=t(2920);t(993);n.Z=function(e){var n=e.children,t=(0,c.useState)(null),r=t[0],l=t[1],p=(0,c.useState)((function(){return localStorage.getItem("token")}))[0],f=(0,c.useState)(),g=f[0],E=f[1],k=(0,c.useRef)(),b=(0,a.useRouter)();return(0,c.useEffect)((function(){try{var e=(0,h.Z)(p);E(e)}catch(n){console.log(n)}}),[p]),(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)(i().mark((function e(){var n,t,s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,fetch("/admin/logistics",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p)}});case 4:if((t=e.sent).ok){e.next=10;break}return e.next=8,t.json();case 8:throw s=e.sent,new Error(s.msg);case 10:return e.next=12,t.json();case 12:r=e.sent,l(null===(n=r.msg)||void 0===n?void 0:n.filter((function(e){return"pending"==e.status})).length),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,o.jsxs)(c.Fragment,{children:[(0,o.jsxs)(v(),{children:[(0,o.jsx)("title",{children:"Admin - Kupon "}),(0,o.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),(0,o.jsx)("meta",{httpEquiv:"x-ua-compatible",content:"ie=edge"}),(0,o.jsx)("meta",{name:"description",content:"description"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,o.jsx)("link",{rel:"shortcut icon",href:"/images/kupon icon.png"})]}),(0,o.jsx)(m.Ix,{position:"bottom-center"}),(0,o.jsx)(j.Z,{children:(0,o.jsxs)("main",{id:"account",children:[(0,o.jsxs)("aside",{ref:k,children:[(0,o.jsxs)("div",{className:"profile",children:[(0,o.jsxs)("span",{children:[(0,o.jsx)("span",{style:{color:"white",backgroundColor:"black",borderRadius:"50%",padding:"3px"},children:(0,u.Q)(null===g||void 0===g?void 0:g.firstName,null===g||void 0===g?void 0:g.lastName)}),(0,o.jsxs)("p",{children:["Admin -"," ",(0,u.S)((null===g||void 0===g?void 0:g.firstName)+" "+(null===g||void 0===g?void 0:g.lastName),10)]})]}),(0,o.jsx)("img",{id:"cancel",src:"https://img.icons8.com/ios/50/FD7E14/cancel.png",onClick:function(){return k.current.classList.remove("menu")}})]}),(0,o.jsxs)("div",{className:"side_links",children:[(0,o.jsx)(d(),{href:"/",children:(0,o.jsxs)("span",{style:{cursor:"pointer"},children:[(0,o.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/FD7E14/home-page--v1.png",className:"icon"}),(0,o.jsx)("b",{children:"Home"})]})}),(0,o.jsx)(d(),{href:"profile",children:(0,o.jsxs)("span",{style:{cursor:"pointer"},children:[(0,o.jsx)("img",{src:"https://img.icons8.com/material-outlined/24/FD7E14/user.png",className:"icon"}),(0,o.jsx)("b",{children:"My Profile"})]})}),(0,o.jsx)(d(),{href:"user",children:(0,o.jsxs)("span",{style:{cursor:"pointer"},children:[(0,o.jsx)("img",{src:"https://img.icons8.com/stickers/100/null/user-skin-type-3.png",className:"icon"}),(0,o.jsx)("b",{children:"User"})]})}),(0,o.jsx)(d(),{href:"logistics",children:(0,o.jsxs)("span",{style:{cursor:"pointer"},children:[(0,o.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/FD7E14/food-truck.png",className:"icon"}),(0,o.jsxs)("b",{children:["Logistics(",r,")"]})]})}),(0,o.jsx)(d(),{href:"market",children:(0,o.jsxs)("span",{style:{cursor:"pointer"},children:[(0,o.jsx)("img",{src:"https://img.icons8.com/material-outlined/24/FD7E14/shopping-cart--v1.png",className:"icon"}),(0,o.jsx)("b",{children:"Market"})]})}),(0,o.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){(0,x.Z)()&&b.push("/login")},children:[(0,o.jsx)("img",{src:"https://img.icons8.com/ios/50/FD7E14/logout-rounded--v1.png",className:"icon"}),(0,o.jsx)("b",{children:"Logout"})]})]})]}),(0,o.jsxs)("section",{className:"main_container",children:[(0,o.jsx)("header",{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{id:"menu",src:"https://img.icons8.com/ios-filled/50/000000/menu--v1.png",onClick:function(){return k.current.classList.add("menu")}}),(0,o.jsx)("h3",{children:"Admin - Settings"}),(0,o.jsx)("p",{style:{opacity:"0.7"},children:"Manage your personal and organization settings"})]})}),(0,o.jsx)("article",{children:n})]})]})})]})}},5985:function(e,n,t){"use strict";var s=t(5893),r=t(9704),i=t.n(r),o=t(1163),c=t(7294);n.Z=function(e){var n=e.children,t=(0,o.useRouter)();return(0,c.useEffect)((function(){var e=setTimeout((function(){var e=localStorage.getItem("token");try{i().verify(e,"kupon")}catch(n){t.push("/login")}}),0);return function(){return clearTimeout(e)}}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:n})})}},7741:function(e,n,t){"use strict";t.r(n);var s=t(7568),r=t(4051),i=t.n(r),o=t(5893),c=t(7294),l=t(6857),d=t(6212),a=t(5005),u=t(1164),h=t(2920),x=(t(993),t(1163)),j=t(7893);n.default=function(){var e=(0,x.useRouter)(),n=(0,c.useState)((function(){return localStorage.getItem("token")}))[0],t=(0,c.useState)([]),r=t[0],p=t[1],v=(0,c.useState)(!1),m=v[0],f=v[1],g=(0,c.useState)(),E=g[0],k=g[1],b=(0,c.useState)(!1),y=b[0],N=b[1],S=(0,c.useState)(!0),w=S[0],Z=S[1];(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)(i().mark((function e(){var t,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(r),e.next=4,fetch("/admin/user",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:if((t=e.sent).ok){e.next=10;break}return e.next=8,t.json();case 8:throw s=e.sent,new Error(s.msg);case 10:return e.next=12,t.json();case 12:o=e.sent,p(o.msg),console.log(o.msg),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(){return f(!1)},A=function(){var t=(0,s.Z)(i().mark((function t(){var s,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/admin/user/delete/".concat(null===E||void 0===E?void 0:E.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:if((s=t.sent).ok){t.next=9;break}return t.next=7,s.json();case 7:throw r=t.sent,new Error(null===r||void 0===r?void 0:r.msg);case 9:return t.next=11,s.json();case 11:o=t.sent,h.Am.success(null===o||void 0===o?void 0:o.msg),e.reload(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return(0,o.jsxs)(l.Z,{children:[(0,o.jsxs)("div",{className:"table-responsive",children:[(0,o.jsxs)("h1",{children:["PLATFORM USER : ",(0,o.jsx)("b",{children:r.length})]}),(0,o.jsxs)("table",{className:"table table-striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",children:"ID"}),(0,o.jsx)("th",{scope:"col",children:"FIRST NAME"}),(0,o.jsx)("th",{scope:"col",children:"LAST NAME"}),(0,o.jsx)("th",{scope:"col",children:"EMAIL"}),(0,o.jsx)("th",{scope:"col",children:"TELEPHONE"}),(0,o.jsx)("th",{scope:"col",children:"ADDRESS"})]})}),(0,o.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e){return(0,o.jsxs)("tr",{onClick:function(){return function(e){f(!0),k(e)}(e)},style:{cursor:"pointer"},children:[(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.firstName}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.lastName}),(0,o.jsx)("td",{children:(0,j.S)(null===e||void 0===e?void 0:e.email,10)}),(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.telephone}),(0,o.jsx)("td",{children:(0,j.S)(null===e||void 0===e?void 0:e.address,15)})]},null===e||void 0===e?void 0:e.id)}))})]})]}),(0,o.jsxs)("div",{style:{overflow:"auto"},children:[(0,o.jsxs)(d.Z,{show:m,onHide:C,children:[(0,o.jsx)(d.Z.Header,{closeButton:!0,children:(0,o.jsxs)("button",{style:{backgroundColor:(null===E||void 0===E?void 0:E.paid)?"green":"red",color:"white",padding:"2px 3px",borderRadius:"5px",cursor:"pointer"},disabled:"delivered"==(null===E||void 0===E?void 0:E.status),children:["ID - ",null===E||void 0===E?void 0:E.id]})}),(0,o.jsx)(d.Z.Body,{children:(0,o.jsxs)("table",{className:"table",children:[(0,o.jsx)("thead",{style:{fontSize:"1.3rem",fontWeight:"bold",lineHeight:"1.5"},children:"User\xa0Details"})," ",(0,o.jsx)("br",{}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"USER ID"}),(0,o.jsx)("td",{children:null===E||void 0===E?void 0:E.id})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"FIRST NAME"}),(0,o.jsx)("td",{children:null===E||void 0===E?void 0:E.firstName})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"LAST NAME"}),(0,o.jsx)("td",{children:null===E||void 0===E?void 0:E.lastName})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"EMAIL"}),(0,o.jsx)("td",{children:null===E||void 0===E?void 0:E.email})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"TELEPHONE"}),(0,o.jsx)("td",{children:null===E||void 0===E?void 0:E.telephone})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"ADDRESS"}),(0,o.jsx)("td",{children:null===E||void 0===E?void 0:E.address})]})]}),(0,o.jsx)("hr",{}),(0,o.jsxs)("tfoot",{children:[(0,o.jsx)("th",{children:"Date Joined"}),(0,o.jsx)("td",{children:new Date(null===E||void 0===E?void 0:E.created_at).toLocaleString()})]})]})}),(0,o.jsxs)(d.Z.Footer,{className:"justify-content-start",children:[(0,o.jsx)(a.Z,{variant:"danger",onClick:function(){C(),Z(!0),N(!0)},style:{background:"red",color:"white"},children:"Delete Account"})," "]}),(0,o.jsx)(d.Z.Footer,{children:(0,o.jsx)(a.Z,{variant:"secondary",onClick:C,children:"Close"})})]}),y?(0,o.jsxs)(d.Z,{show:w,children:[(0,o.jsx)(u.Z,{setConfirmation:N,action:A,title:"to delete user account with id :.'".concat(null===E||void 0===E?void 0:E.id,"'")}),(0,o.jsx)(d.Z.Footer,{children:(0,o.jsx)(a.Z,{variant:"error",onClick:function(){return Z(!1)},children:"Close"})})]}):null]})]})}},5387:function(e,n,t){"use strict";function s(){return localStorage.clear(),!0}t.d(n,{Z:function(){return s}})},7893:function(e,n,t){"use strict";function s(e,n){return(null===e||void 0===e?void 0:e.length)>n?e.slice(0,n-3)+"...":e}function r(e,n){var t=null===e||void 0===e?void 0:e.charAt(0),s=null===n||void 0===n?void 0:n.charAt(0);return t||s?t+s:"nil"}t.d(n,{Q:function(){return r},S:function(){return s}})}},function(e){e.O(0,[714,424,531,100,231,178,774,888,179],(function(){return n=3834,e(e.s=n);var n}));var n=e.O();_N_E=n}]);