(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{5346:function(e,n,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market/shop/[product]",function(){return o(8670)}])},5985:function(e,n,o){"use strict";var i=o(5893),t=o(9704),s=o.n(t),r=o(1163),l=o(7294),a=o(3454);n.Z=function(e){var n=e.children,o=(0,r.useRouter)();return(0,l.useEffect)((function(){var e=setTimeout((function(){var e=localStorage.getItem("token");try{s().verify(e,"kupon")}catch(n){console.log(n),console.log(a.env.NEXT_PUBLIC_TOKEN_KEY),o.push("/login")}}),0);return function(){return clearTimeout(e)}}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{children:n})})}},8670:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return S}});var i=o(5893),t=o(7294),s=o(1971),r=o(1163),l=o(4184),a=o.n(l),c=o(5446),d=o(8146),u=o(80),m=o(6792),h=o(1068),p=o(1485),v=o(9602),f=o(6611);const x=(0,v.Z)("h4");x.displayName="DivStyledAsH4";const N=(0,f.Z)("alert-heading",{Component:x}),g=(0,f.Z)("alert-link",{Component:u.Z}),j={variant:"primary",show:!0,transition:h.Z,closeLabel:"Close alert"},_=t.forwardRef(((e,n)=>{const{bsPrefix:o,show:t,closeLabel:s,closeVariant:r,className:l,children:u,variant:v,onClose:f,dismissible:x,transition:N,...g}=(0,c.Ch)(e,{show:"onClose"}),j=(0,m.vE)(o,"alert"),_=(0,d.Z)((e=>{f&&f(!1,e)})),k=!0===N?h.Z:N,C=(0,i.jsxs)("div",{role:"alert",...k?void 0:g,ref:n,className:a()(l,j,v&&`${j}-${v}`,x&&`${j}-dismissible`),children:[x&&(0,i.jsx)(p.Z,{onClick:_,"aria-label":s,variant:r}),u]});return k?(0,i.jsx)(k,{unmountOnExit:!0,...g,ref:void 0,in:t,children:C}):t?C:null}));_.displayName="Alert",_.defaultProps=j;var k=Object.assign(_,{Link:g,Heading:N}),C=o(5985),w=o(5063),b=o.n(w),y=o(7893),E=function(e){var n=e.imageUrl,o=e.onClose;return(0,i.jsx)("div",{className:"modal-overlay",onClick:o,style:{position:"absolute",top:"0px",height:"90%",left:"0px",zIndex:"300",cursor:"pointer"},children:(0,i.jsx)("div",{className:"modal-content",children:(0,i.jsx)("img",{src:n,alt:"Image",className:"modal-image"})})})};function S(){var e=function(e){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then((function(){_(!0),console.log("URL copied to clipboard!")})).catch((function(e){console.error("Failed to copy URL to clipboard:",e)})):n(e)},n=function(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),_(!0)},o=(0,r.useRouter)().query.product,l=(0,t.useState)({}),a=l[0],c=l[1],d=(0,t.useState)(),u=d[0],m=d[1],h=(0,t.useState)(),p=h[0],v=h[1],f=(0,t.useState)(0),x=f[0],N=f[1],g=(0,t.useState)(!1),j=g[0],_=g[1],w=(0,t.useState)(!1),S=w[0],Z=w[1],O=(0,t.useState)(""),T=O[0],I=O[1],L=(0,t.useState)((function(){return localStorage.getItem("token")}))[0];return(0,t.useEffect)((function(){fetch("/sell/".concat(o),{method:"GET",headers:{Authorization:"Bearer ".concat(L)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){c(null===e||void 0===e?void 0:e.msg)})).catch((function(){v(p)}))}),[o]),(0,t.useEffect)((function(){fetch("/user/".concat(null===a||void 0===a?void 0:a.sellerId),{method:"GET",headers:{Authorization:"Bearer ".concat(L)}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){m(null===e||void 0===e?void 0:e.msg)})).catch((function(){}))}),[a]),(0,i.jsx)(C.Z,{children:(0,i.jsx)(s.Z,{title:"Cart - Market",children:a?(0,i.jsxs)("div",{className:"container",id:"shop",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"market_prod_head",children:[(0,i.jsx)("h1",{className:"market_prod_name",children:null===a||void 0===a?void 0:a.title}),(0,i.jsxs)("p",{className:"market_prod_price",children:["#",null===a||void 0===a?void 0:a.price]})]}),(0,i.jsxs)("div",{className:"market_prod_img",children:[(0,i.jsx)("span",{className:"market_prod_pics_main",children:"string"===typeof a.files?(0,i.jsx)("img",{className:"d-block",src:JSON.parse(null===a||void 0===a?void 0:a.files)[x],alt:"Image One",style:{width:"100%"},onClick:function(){return e=JSON.parse(null===a||void 0===a?void 0:a.files)[x],I(e),void Z(!0);var e}}):null}),(0,i.jsx)("span",{className:"market_prod_pics_sub",children:"string"===typeof a.files?JSON.parse(null===a||void 0===a?void 0:a.files).map((function(e,n){return(0,i.jsx)("img",{className:"d-block",src:e,alt:"Image One",style:{width:"100%"},onClick:function(){return N(n)}},n)})):null})]}),(0,i.jsxs)("div",{className:"market_prod_description",children:[(0,i.jsx)("h3",{children:"Description"}),(0,i.jsx)("p",{children:null===a||void 0===a?void 0:a.description})]}),(0,i.jsxs)("div",{className:"market_prod_seller_details",children:[(0,i.jsxs)("div",{className:"d1",children:[(0,i.jsxs)("p",{style:{color:"white",background:"#904D00",borderRadius:"50%",padding:"8px"},className:"p1",children:[" ",(0,y.Q)(null===u||void 0===u?void 0:u.firstName,null===u||void 0===u?void 0:u.lastName)]}),(0,i.jsxs)("p",{className:"p2",children:[(0,i.jsxs)("em",{className:"market_prod_sellername",children:[null===u||void 0===u?void 0:u.firstName," ",null===u||void 0===u?void 0:u.lastName]}),(0,i.jsx)("em",{className:"market_prod_sellerphone",children:Number(null===u||void 0===u?void 0:u.telephone)})]}),j?(0,i.jsx)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:"Copied"}):(0,i.jsxs)("p",{onClick:function(){return e(null===u||void 0===u?void 0:u.telephone)},className:"p3",children:["Copy Contact"," ",(0,i.jsx)("img",{width:"20",height:"20",src:"https://img.icons8.com/ios-glyphs/30/copy.png",alt:"copy"})]})]}),(0,i.jsx)("div",{className:"d2",children:(0,i.jsx)(b(),{href:"tel: ".concat(null===u||void 0===u?void 0:u.telephone),children:(0,i.jsx)("p",{children:"Contact Seller"})})})]})]}),S&&(0,i.jsx)(E,{imageUrl:T,onClose:function(){Z(!1)}})]}):(0,i.jsx)(k,{variant:"danger",style:{margin:"200px 100px"},children:"loading..."},"danger")})})}}},function(e){e.O(0,[714,424,531,715,858,231,971,774,888,179],(function(){return n=5346,e(e.s=n);var n}));var n=e.O();_N_E=n}]);