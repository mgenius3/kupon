(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{9034:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/admin/messages",function(){return n(6533)}])},6865:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(7568);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(4051),c=n.n(a),i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s(this,e),this.baseURL=t,this.token=n}var t,n,a;return t=e,(n=[{key:"get",value:function(e){var t=this;return(0,r.Z)(c().mark((function n(){var r,s,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(t.baseURL+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}});case 3:if((r=n.sent).ok){n.next=9;break}return n.next=7,r.json();case 7:throw s=n.sent,new Error(s.msg);case 9:return n.next=11,r.json();case 11:return o=n.sent,n.abrupt("return",{response:o.msg,error:null});case 15:return n.prev=15,n.t0=n.catch(0),n.abrupt("return",{response:null,error:n.t0.message});case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()}},{key:"post",value:function(e,t){var n=this;return(0,r.Z)(c().mark((function r(){var s,o,a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(n.baseURL+e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)},body:JSON.stringify(t)});case 3:if((s=r.sent).ok){r.next=9;break}return r.next=7,s.json();case 7:throw o=r.sent,new Error(o.msg);case 9:return r.next=11,s.json();case 11:return a=r.sent,r.abrupt("return",{response:a.msg,error:null});case 15:return r.prev=15,r.t0=r.catch(0),r.abrupt("return",{response:null,error:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))()}},{key:"delete",value:function(e){var t=this;return(0,r.Z)(c().mark((function n(){var r,s,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(t.baseURL+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}});case 3:if((r=n.sent).ok){n.next=9;break}return n.next=7,r.json();case 7:throw s=n.sent,new Error(s.msg);case 9:return n.next=11,r.json();case 11:return o=n.sent,n.abrupt("return",{response:o.msg,error:null});case 15:return n.prev=15,n.t0=n.catch(0),n.abrupt("return",{response:null,error:n.t0.message});case 18:case"end":return n.stop()}}),n,null,[[0,15]])})))()}}])&&o(t.prototype,n),a&&o(t,a),e}(),l=i},6533:function(e,t,n){"use strict";n.r(t);var r=n(7568),s=n(4051),o=n.n(s),a=n(5893),c=n(7294),i=n(6857),l=n(6865),u=n(2920),d=(n(993),n(1163)),h=n(6212),f=n(5005),p=n(7893);t.default=function(){var e=(0,d.useRouter)(),t=(0,c.useState)(),n=t[0],s=t[1],m=(0,c.useState)((function(){return localStorage.getItem("token")}))[0],x=(0,c.useState)(!1),v=x[0],b=x[1],g=(0,c.useState)(),j=g[0],y=g[1],w=function(e){b(!0),y(e)},k=function(){return b(!1)},N=new l.Z("/admin",m);(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/all_contact_message");case 2:(t=e.sent.response)?s(t):u.Am.error("unable to fetch data");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Z=function(){var t=(0,r.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.delete("/contact_message/".concat(n));case 2:t.sent.response?(u.Am.success("message deleted successfully"),e.reload()):u.Am.error("unable to delete");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,a.jsxs)(i.Z,{children:[(0,a.jsxs)("div",{className:"container mt-5",children:[(0,a.jsx)("h1",{className:"text-center mb-4 ",style:{fontSize:"30px"},children:"Messages"}),(0,a.jsxs)("table",{className:"table table-striped",children:[(0,a.jsx)("thead",{className:"thead-dark text-white",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",style:{color:"white"},children:"Name"}),(0,a.jsx)("th",{scope:"col",style:{color:"white"},children:"Email"}),(0,a.jsx)("th",{scope:"col",style:{color:"white"},children:"Date"})]})}),(0,a.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,a.jsxs)("tr",{style:{cursor:"pointer"},children:[(0,a.jsx)("td",{onClick:function(){return w(e)},children:(0,p.S)(e.fullName,12)}),(0,a.jsx)("td",{onClick:function(){return w(e)},children:(0,p.S)(e.email,12)}),(0,a.jsx)("td",{onClick:function(){return w(e)},children:new Date(e.created_at).toLocaleDateString()})]},t)}))})]})]}),(0,a.jsxs)(h.Z,{show:v,onHide:k,children:[(0,a.jsxs)(h.Z.Header,{closeButton:!0,children:[(0,a.jsx)(h.Z.Title,{style:{fontSize:"1.3rem",fontWeight:"bold",lineHeight:"1.5",color:"#3c171773"},children:"MESSAGES"}),(0,a.jsx)("br",{})]}),(0,a.jsx)("h1",{style:{fontFamily:"poppins",margin:"10px"},children:null===j||void 0===j?void 0:j.message}),(0,a.jsx)(h.Z.Body,{children:(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{})," ",(0,a.jsx)("br",{}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("td",{children:null===j||void 0===j?void 0:j.fullName})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Email"}),(0,a.jsx)("td",{children:null===j||void 0===j?void 0:j.email})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Telephone"}),(0,a.jsx)("td",{children:null===j||void 0===j?void 0:j.telephone})]})]}),(0,a.jsxs)("tfoot",{children:[(0,a.jsx)("th",{children:"Message Sent at"}),(0,a.jsx)("td",{children:new Date(null===j||void 0===j?void 0:j.created_at).toLocaleDateString()})]})]})}),(0,a.jsx)(h.Z.Footer,{className:"justify-content-start",children:(0,a.jsx)(f.Z,{variant:"danger",onClick:function(){Z(null===j||void 0===j?void 0:j.id),k()},style:{background:"red",color:"white"},children:"Delete"})}),(0,a.jsx)(h.Z.Footer,{children:(0,a.jsx)(f.Z,{variant:"secondary",onClick:k,children:"Close"})})]})]})}},993:function(){},5005:function(e,t,n){"use strict";var r=n(4184),s=n.n(r),o=n(7294),a=n(861),c=n(6792),i=n(5893);const l=o.forwardRef((({as:e,bsPrefix:t,variant:n,size:r,active:o,className:l,...u},d)=>{const h=(0,c.vE)(t,"btn"),[f,{tagName:p}]=(0,a.FT)({tagName:e,...u}),m=p;return(0,i.jsx)(m,{...f,...u,ref:d,className:s()(l,h,o&&"active",n&&`${h}-${n}`,r&&`${h}-${r}`,u.href&&u.disabled&&"disabled")})}));l.displayName="Button",l.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=l},6212:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r,s=n(4184),o=n.n(s),a=n(9351),c=n(3004),i=n(7216),l=n(99);function u(e){if((!r&&0!==r||e)&&c.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var d=n(2092),h=n(8146),f=n(5654),p=n(6852),m=n(4305),x=n(7294),v=n(8061),b=n(9673),g=n(1068),j=n(6611),y=(0,j.Z)("modal-body"),w=n(6467),k=n(6792),N=n(5893);const Z=x.forwardRef((({bsPrefix:e,className:t,contentClassName:n,centered:r,size:s,fullscreen:a,children:c,scrollable:i,...l},u)=>{const d=`${e=(0,k.vE)(e,"modal")}-dialog`,h="string"===typeof a?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return(0,N.jsx)("div",{...l,ref:u,className:o()(d,t,s&&`${e}-${s}`,r&&`${d}-centered`,i&&`${d}-scrollable`,a&&h),children:(0,N.jsx)("div",{className:o()(`${e}-content`,n),children:c})})}));Z.displayName="ModalDialog";var E=Z,C=(0,j.Z)("modal-footer"),S=n(703);const T=x.forwardRef((({bsPrefix:e,className:t,...n},r)=>(e=(0,k.vE)(e,"modal-header"),(0,N.jsx)(S.Z,{ref:r,...n,className:o()(t,e)}))));T.displayName="ModalHeader",T.defaultProps={closeLabel:"Close",closeButton:!1};var _=T;const R=(0,n(9602).Z)("h4");var D=(0,j.Z)("modal-title",{Component:R});const F={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:E};function $(e){return(0,N.jsx)(g.Z,{...e,timeout:null})}function A(e){return(0,N.jsx)(g.Z,{...e,timeout:null})}const P=x.forwardRef((({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:s,children:g,dialogAs:j,"aria-labelledby":y,"aria-describedby":Z,"aria-label":E,show:C,animation:S,backdrop:T,keyboard:_,onEscapeKeyDown:R,onShow:D,onHide:F,container:P,autoFocus:O,enforceFocus:z,restoreFocus:B,restoreFocusOptions:H,onEntered:L,onExit:M,onExiting:I,onEnter:U,onEntering:W,onExited:K,backdropClassName:G,manager:X,...J},q)=>{const[Q,V]=(0,x.useState)({}),[Y,ee]=(0,x.useState)(!1),te=(0,x.useRef)(!1),ne=(0,x.useRef)(!1),re=(0,x.useRef)(null),[se,oe]=(0,d.Z)(),ae=(0,f.Z)(q,oe),ce=(0,h.Z)(F),ie=(0,k.SC)();e=(0,k.vE)(e,"modal");const le=(0,x.useMemo)((()=>({onHide:ce})),[ce]);function ue(){return X||(0,b.t)({isRTL:ie})}function de(e){if(!c.Z)return;const t=ue().getScrollbarWidth()>0,n=e.scrollHeight>(0,i.Z)(e).documentElement.clientHeight;V({paddingRight:t&&!n?u():void 0,paddingLeft:!t&&n?u():void 0})}const he=(0,h.Z)((()=>{se&&de(se.dialog)}));(0,p.Z)((()=>{(0,l.Z)(window,"resize",he),null==re.current||re.current()}));const fe=()=>{te.current=!0},pe=e=>{te.current&&se&&e.target===se.dialog&&(ne.current=!0),te.current=!1},me=()=>{ee(!0),re.current=(0,m.Z)(se.dialog,(()=>{ee(!1)}))},xe=e=>{"static"!==T?ne.current||e.target!==e.currentTarget?ne.current=!1:null==F||F():(e=>{e.target===e.currentTarget&&me()})(e)},ve=(0,x.useCallback)((t=>(0,N.jsx)("div",{...t,className:o()(`${e}-backdrop`,G,!S&&"show")})),[S,G,e]),be={...n,...Q};be.display="block";return(0,N.jsx)(w.Z.Provider,{value:le,children:(0,N.jsx)(v.Z,{show:C,ref:ae,backdrop:T,container:P,keyboard:!0,autoFocus:O,enforceFocus:z,restoreFocus:B,restoreFocusOptions:H,onEscapeKeyDown:e=>{_?null==R||R(e):(e.preventDefault(),"static"===T&&me())},onShow:D,onHide:F,onEnter:(e,t)=>{e&&de(e),null==U||U(e,t)},onEntering:(e,t)=>{null==W||W(e,t),(0,a.ZP)(window,"resize",he)},onEntered:L,onExit:e=>{null==re.current||re.current(),null==M||M(e)},onExiting:I,onExited:e=>{e&&(e.style.display=""),null==K||K(e),(0,l.Z)(window,"resize",he)},manager:ue(),transition:S?$:void 0,backdropTransition:S?A:void 0,renderBackdrop:ve,renderDialog:n=>(0,N.jsx)("div",{role:"dialog",...n,style:be,className:o()(t,e,Y&&`${e}-static`,!S&&"show"),onClick:T?xe:void 0,onMouseUp:pe,"aria-label":E,"aria-labelledby":y,"aria-describedby":Z,children:(0,N.jsx)(j,{...J,onMouseDown:fe,className:r,contentClassName:s,children:g})})})})}));P.displayName="Modal",P.defaultProps=F;var O=Object.assign(P,{Body:y,Header:_,Title:D,Footer:C,Dialog:E,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}},function(e){e.O(0,[714,424,531,100,231,857,774,888,179],(function(){return t=9034,e(e.s=t);var t}));var t=e.O();_N_E=t}]);