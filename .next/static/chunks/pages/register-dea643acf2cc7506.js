(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(72)}])},72:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return j}});var a=r(7568),l=r(4924),n=r(6042),t=r(9396),c=r(4051),o=r.n(c),i=r(5893),d=r(7294),m=r(7536),u=r(1971),h=r(2920),p=(r(993),r(1163)),x=r(1664),g=r.n(x);function j(){var e=(0,d.useState)({}),s=e[0],r=e[1],c=(0,d.useState)(!1),x=c[0],j=c[1],N=(0,p.useRouter)(),f=(0,m.cI)(),v=f.handleSubmit,w=f.register,b=f.formState.errors,y=function(e){r((0,t.Z)((0,n.Z)({},s),(0,l.Z)({},e.target.name,e.target.value)))},k=function(){var e=(0,a.Z)(o().mark((function e(){var r,a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===s.password||""===s.cpassword){e.next=31;break}if(s.password!=s.cpassword){e.next=28;break}return j(!0),e.prev=3,e.next=6,fetch("/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 6:if((r=e.sent).ok){e.next=13;break}return e.next=10,r.json();case 10:throw a=e.sent,j(!1),new Error(a.msg);case 13:return e.next=15,r.json();case 15:l=e.sent,h.Am.success("successful"),localStorage.setItem("token",l),j(!1),N.push("/"),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),j(!1),h.Am.error(e.t0.message);case 26:e.next=29;break;case 28:h.Am.error("password and confirm password are not equal");case 29:e.next=32;break;case 31:h.Am.error("please fill in the details correctly");case 32:case"end":return e.stop()}}),e,null,[[3,22]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(u.Z,{title:"Register",children:(0,i.jsxs)("div",{id:"page-content",children:[(0,i.jsx)("img",{src:"/images/kupon logo with text (1).png",width:100,className:"mx-4 my-2"}),(0,i.jsx)("div",{className:"page section-header text-center",children:(0,i.jsx)("div",{className:"page-title",children:(0,i.jsx)("div",{className:"wrapper",children:(0,i.jsx)("h1",{className:"page-width",children:"Create an Account"})})})}),(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 main-col offset-md-3",children:(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsxs)("form",{onSubmit:v(k),id:"CustomerLoginForm",className:"contact-form",children:[(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"FirstName",children:"First Name *"}),(0,i.jsx)("input",{type:"text",name:"firstName",placeholder:"",id:"firstName",required:!0,onChange:y})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"LastName",children:"Last Name *"}),(0,i.jsx)("input",{type:"text",name:"lastName",placeholder:"",id:"LastName",required:!0,onChange:y})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{htmlFor:"input-telephone",children:["Telephone ",(0,i.jsx)("span",{className:"required-f",children:"*"})]}),(0,i.jsx)("input",(0,t.Z)((0,n.Z)({name:"telephone",id:"input-telephone",type:"tel",required:!0},w("telephone",{required:"Please enter telephone number",minLength:{value:11,message:"telephone number must be exacty 11 numbers"},maxLength:{value:11,message:"telephone number must be exacty 11 numbers"}})),{onChange:y})),b.telephone&&(0,i.jsx)("div",{className:"text-danger text-center",children:b.telephone.message})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{htmlFor:"input-address-1",children:["Address ",(0,i.jsx)("span",{className:"required-f",children:"*"})]}),(0,i.jsx)("input",{name:"address",id:"input-address-1",type:"text",required:!0,onChange:y})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"CustomerEmail",children:"Email *"}),(0,i.jsx)("input",(0,t.Z)((0,n.Z)({type:"email",name:"email",placeholder:""},w("email",{required:"Please enter email",pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/i,message:"Please enter valid email"}})),{onChange:y}))]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"CustomerPassword",children:"Password *"}),(0,i.jsx)("input",(0,t.Z)((0,n.Z)({type:"password",defaultValue:"",name:"password",id:"password"},w("password",{required:"Please enter password",minLength:{value:6,message:"password should be more than 6 characters"}})),{onChange:y})),b.password&&(0,i.jsx)("div",{className:"text-danger text-center",children:b.password.message})]})}),(0,i.jsx)("div",{className:"col-12 col-sm-12 col-md-12 col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"CustomerPassword",children:"Confirm Password"}),(0,i.jsx)("input",{type:"password",defaultValue:"",name:"cpassword",id:"password",placeholder:"confirm password",onChange:y})]})})]}),(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"text-center col-12 col-sm-12 col-md-12 col-lg-12",children:[x?(0,i.jsx)("input",{className:"btn mb-3",value:"loading...",disabled:!0}):(0,i.jsx)("input",{type:"submit",className:"btn mb-3",value:"submit"}),(0,i.jsxs)("p",{className:"mb-4 text-center",style:{color:"black",cursor:"pointer"},children:["Already a memeber ?"," ",(0,i.jsx)(g(),{href:"/login",id:"customer_register_link",children:(0,i.jsx)("b",{style:{color:"#6e0000"},children:"sign in "})})]})]})})]})})})})})]})})}}},function(e){e.O(0,[424,531,715,858,100,207,971,774,888,179],(function(){return s=5511,e(e.s=s);var s}));var s=e.O();_N_E=s}]);