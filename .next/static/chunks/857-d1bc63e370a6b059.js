"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{6857:function(n,e,s){var t=s(7568),r=s(4051),i=s.n(r),c=s(5893),o=s(7294),a=s(5063),l=s.n(a),u=s(1163),h=s(7893),d=s(6245),m=s(5387),p=s(5985),x=s(9008),g=s.n(x),j=s(2920);s(993);e.Z=function(n){var e=n.children,s=(0,o.useState)(null),r=s[0],a=s[1],x=(0,o.useState)(null),f=x[0],v=x[1],k=(0,o.useState)((function(){return localStorage.getItem("token")}))[0],y=(0,o.useState)(),E=y[0],b=y[1],N=(0,o.useRef)(),w=(0,u.useRouter)();return(0,o.useEffect)((function(){try{var n=(0,d.Z)(k);b(n)}catch(e){console.log(e)}}),[k]),(0,o.useEffect)((function(){var n=function(){var n=(0,t.Z)(i().mark((function n(){var e,s,t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,fetch("/admin/logistics",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k)}});case 4:if((s=n.sent).ok){n.next=10;break}return n.next=8,s.json();case 8:throw t=n.sent,new Error(t.msg);case 10:return n.next=12,s.json();case 12:r=n.sent,a(null===(e=r.msg)||void 0===e?void 0:e.filter((function(n){return"pending"==n.status||"in transit"==n.status})).length),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(){return n.apply(this,arguments)}}(),e=function(){var n=(0,t.Z)(i().mark((function n(){var e,s,t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=4,fetch("/admin/all_contact_message",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k)}});case 4:if((s=n.sent).ok){n.next=10;break}return n.next=8,s.json();case 8:throw t=n.sent,new Error(t.msg);case 10:return n.next=12,s.json();case 12:r=n.sent,console.log(r.msg),v(null===(e=r.msg)||void 0===e?void 0:e.length),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(){return n.apply(this,arguments)}}();n(),e()}),[]),(0,c.jsxs)(o.Fragment,{children:[(0,c.jsxs)(g(),{children:[(0,c.jsx)("title",{children:"Admin - Kupon "}),(0,c.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),(0,c.jsx)("meta",{httpEquiv:"x-ua-compatible",content:"ie=edge"}),(0,c.jsx)("meta",{name:"description",content:"description"}),(0,c.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,c.jsx)("link",{rel:"shortcut icon",href:"/images/kupon icon.png"})]}),(0,c.jsx)(j.Ix,{position:"bottom-center"}),(0,c.jsx)(p.Z,{children:(0,c.jsxs)("main",{id:"account",children:[(0,c.jsxs)("aside",{ref:N,children:[(0,c.jsxs)("div",{className:"profile",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)("span",{style:{color:"white",backgroundColor:"black",borderRadius:"50%",padding:"3px"},children:(0,h.Q)(null===E||void 0===E?void 0:E.firstName,null===E||void 0===E?void 0:E.lastName)}),(0,c.jsxs)("p",{children:["Admin -"," ",(0,h.S)((null===E||void 0===E?void 0:E.firstName)+" "+(null===E||void 0===E?void 0:E.lastName),10)]})]}),(0,c.jsx)("img",{id:"cancel",src:"https://img.icons8.com/ios/50/FD7E14/cancel.png",onClick:function(){return N.current.classList.remove("menu")}})]}),(0,c.jsxs)("div",{className:"side_links",children:[(0,c.jsx)(l(),{href:"/home",children:(0,c.jsxs)("span",{style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/FD7E14/home-page--v1.png",className:"icon"}),(0,c.jsx)("b",{children:"Home"})]})}),(0,c.jsx)("hr",{}),(0,c.jsx)(l(),{href:"profile",children:(0,c.jsxs)("span",{style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"https://img.icons8.com/material-outlined/24/FD7E14/user.png",className:"icon"}),(0,c.jsx)("b",{children:"My Profile"})]})}),(0,c.jsx)("hr",{}),(0,c.jsx)(l(),{href:"user",children:(0,c.jsxs)("span",{style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"https://img.icons8.com/stickers/100/null/user-skin-type-3.png",className:"icon"}),(0,c.jsx)("b",{children:"User"})]})}),(0,c.jsx)("hr",{}),(0,c.jsx)(l(),{href:"logistics",children:(0,c.jsxs)("span",{style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/FD7E14/food-truck.png",className:"icon"}),(0,c.jsxs)("b",{children:["Logistics(",r,")"]})]})}),(0,c.jsx)("hr",{}),(0,c.jsx)(l(),{href:"market",children:(0,c.jsxs)("span",{style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"https://img.icons8.com/material-outlined/24/FD7E14/shopping-cart--v1.png",className:"icon"}),(0,c.jsx)("b",{children:"Market"})]})}),(0,c.jsx)("hr",{}),(0,c.jsx)(l(),{href:"messages",children:(0,c.jsxs)("span",{style:{cursor:"pointer"},children:[(0,c.jsx)("img",{src:"https://img.icons8.com/ios/50/messages-mac.png",className:"icon"}),(0,c.jsxs)("b",{children:["Messages(",f,")"]})]})}),(0,c.jsx)("hr",{}),(0,c.jsxs)("span",{style:{cursor:"pointer"},onClick:function(){(0,m.Z)()&&w.push("/login")},children:[(0,c.jsx)("img",{src:"https://img.icons8.com/ios/50/FD7E14/logout-rounded--v1.png",className:"icon"}),(0,c.jsx)("b",{children:"Logout"})]})]})]}),(0,c.jsxs)("section",{className:"main_container",children:[(0,c.jsx)("header",{children:(0,c.jsxs)("div",{children:[(0,c.jsx)("img",{id:"menu",src:"https://img.icons8.com/ios-filled/50/000000/menu--v1.png",onClick:function(){return N.current.classList.add("menu")}}),(0,c.jsx)("h3",{children:"Admin - Settings"}),(0,c.jsx)("p",{style:{opacity:"0.7"},children:"Manage your personal and organization settings"})]})}),(0,c.jsx)("article",{children:e})]})]})})]})}},5985:function(n,e,s){var t=s(5893),r=s(9704),i=s.n(r),c=s(1163),o=s(7294),a=s(3454);e.Z=function(n){var e=n.children,s=(0,c.useRouter)();return(0,o.useEffect)((function(){var n=setTimeout((function(){var n=localStorage.getItem("token");try{i().verify(n,"kupon")}catch(e){console.log(e),console.log(a.env.NEXT_PUBLIC_TOKEN_KEY),s.push("/login")}}),0);return function(){return clearTimeout(n)}}),[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:e})})}},5387:function(n,e,s){function t(){return localStorage.clear(),!0}s.d(e,{Z:function(){return t}})},7893:function(n,e,s){function t(n,e){return(null===n||void 0===n?void 0:n.length)>e?n.slice(0,e-3)+"...":n}function r(n,e){var s=null===n||void 0===n?void 0:n.charAt(0),t=null===e||void 0===e?void 0:e.charAt(0);return s||t?s+t:"nil"}s.d(e,{Q:function(){return r},S:function(){return t}})}}]);